1. Create a ConfigMap and mount it in a pod.
 2. Create a Secret and pass it as an environment variable. 
3. Configure an Ingress and access the service using Minikube’s ingress add-on. 
4. Create a Horizontal Pod Autoscaler for an existing deployment


















































































CONFIGMAP AND MOUNT IT IN A POD


nano configmap.yaml




apiVersion: v1
kind: ConfigMap
metadata:
  name: demo-config
data:
  app.properties: |
    ENV=production
    VERSION=1.0




kubectl apply -f configmap.yaml






Pod that mounts ConfigMap


nano configmap-pod.yaml




apiVersion: v1
kind: Pod
metadata:
  name: configmap-pod
spec:
  containers:
  - name: demo
    image: nginx
    volumeMounts:
    - name: config-vol
      mountPath: /etc/config
  volumes:
  - name: config-vol
    configMap:
      name: demo-config






kubectl apply -f configmap-pod.yaml
kubectl exec -it configmap-pod -- ls /etc/config








Create a Secret and pass it as an environment variable






kubectl create secret generic demo-secret --from-literal=username=admin --from-literal=password=pass123








nano secret-pod.yaml








apiVersion: v1
kind: Pod
metadata:
  name: secret-pod
spec:
  containers:
  - name: demo
    image: nginx
    env:
    - name: SECRET_USERNAME
      valueFrom:
        secretKeyRef:
          name: demo-secret
          key: username
    - name: SECRET_PASSWORD
      valueFrom:
        secretKeyRef:
          name: demo-secret
          key: password






kubectl apply -f secret-pod.yaml
kubectl exec -it secret-pod -- printenv | grep SECRET




Configure an Ingress and access the service




minikube addons enable ingress


kubectl expose deployment nginx-deploy --port=80 --type=ClusterIP




nano ingress.yaml




apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: nginx-ingress
spec:
  rules:
  - host: nginx.example.com
    http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: nginx-deploy
            port:
              number: 80








kubectl apply -f ingress.yaml
kubectl get ingress




sudo minikube tunnel












Add entry to /etc/hosts:
sudo nano /etc/hosts
127.0.0.1 nginx.example.com




curl http://nginx.example.com






Create a Horizontal Pod Autoscaler




minikube addons enable metrics-server




kubectl autoscale deployment nginx-deploy --cpu-percent=50 --min=1 --max=5






kubectl get hpa